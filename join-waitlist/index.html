<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon for most browsers -->
    <link rel="icon" href="/favicon.png" type="image/png">

    <!-- Favicon for Safari/Apple -->
    <link rel="apple-touch-icon" href="/favicon.png">

    <title>Join the Waitlist | PeerHire</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F4F9F9;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #6bc3eb 0%, #20175e 100%);
        }

        .form-shadow {
            box-shadow: 0 20px 40px rgba(107, 195, 235, 0.15);
        }

        .success-message {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">
    <div class="max-w-4xl w-full mx-auto">
        <div class="bg-white rounded-2xl overflow-hidden form-shadow">
            <div class="gradient-bg text-white p-8 md:p-12 text-center">
                <div class="flex justify-center mb-6">
                    <div class="w-16 h-16 bg-white rounded-full flex items-center justify-center floating">
                        <i class="fas fa-rocket text-3xl" style="color: #6bc3eb;"></i>
                    </div>
                </div>
                <h1 class="text-3xl md:text-4xl font-bold mb-4">Join the PeerHire Waitlist 🚀</h1>
                <p class="text-lg opacity-90 max-w-2xl mx-auto">
                    Be among the first to access PeerHire before the official launch. Get exclusive updates, early
                    access, and perks when we go live.
                </p>
            </div>

            <div class="p-8 md:p-12">
                <form id="waitlistForm" class="space-y-6" method="POST"
                    action="https://script.google.com/macros/s/AKfycbzBFqoCaaaJyMmb8THBPWoMZK164WiBi1UvUO2IbcWQEmskveRgA-PiD2vOal8OKcQI/exec"
                    target="hidden_iframe" onsubmit="submitted=true;">
                    <input type="text" name="website" id="website" style="display:none;">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="fullName" name="fullName" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-user text-gray-400"></i>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                                Email Address <span class="text-red-500">*</span>
                            </label>
                            <div class="relative">
                                <input type="email" id="email" name="email" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all"
                                    placeholder="you@example.com" />
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-envelope text-gray-400"></i>
                                </div>
                            </div>
                            <p id="emailError" class="mt-2 text-sm text-red-500 hidden">Please enter a valid email
                                address.</p>
                        </div>

                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="college" class="block text-sm font-medium text-gray-700 mb-1">College Name <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="college" name="college" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-graduation-cap text-gray-400"></i>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Role <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <select id="role" name="role" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all appearance-none">
                                    <option value="" disabled selected>Select your role</option>
                                    <option value="Student">Student</option>
                                    <option value="Recent Graduate">Recent Graduate</option>
                                    <option value="Early Professional">Early Professional</option>
                                    <option value="Startup">Startup</option>
                                    <option value="Recruiter">Recruiter</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-chevron-down text-gray-400"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label for="location" class="block text-sm font-medium text-gray-700 mb-1">City / Country <span
                                class="text-red-500">*</span></label>
                        <div class="relative">
                            <input type="text" id="location" name="location" required
                                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all">
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                <i class="fas fa-map-marker-alt text-gray-400"></i>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Anything you'd like to
                            tell us?</label>
                        <textarea id="message" name="message" rows="3"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all"></textarea>
                    </div>

                    <div class="flex items-center">
                        <input id="terms" name="terms" type="checkbox" required
                            class="h-4 w-4 text-[#6bc3eb] focus:ring-[#6bc3eb] border-gray-300 rounded">
                        <label for="terms" class="ml-2 block text-sm text-gray-700">
                            I agree to receive updates and accept the <a href="#"
                                class="text-[#6bc3eb] hover:underline">Terms & Conditions</a>
                        </label>
                    </div>

                    <div class="pt-2">
                        <button type="submit" id="submitButton"
                            class="w-full gradient-bg text-white font-bold py-4 px-6 rounded-lg hover:opacity-90 transition-all flex items-center justify-center space-x-2">
                            <span>Join the Waitlist</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>

                    </div>
                </form>

                <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>


                <div id="successMessage" class="hidden success-message text-center mt-8 p-6 bg-green-50 rounded-lg">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-check text-green-600 text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2">You're on the list! 🎉</h3>
                    <p class="text-gray-600 mb-4">We've added you to the PeerHire waitlist. Keep an eye on your inbox
                        for updates.</p>
                    <p class="text-lg font-semibold text-[#6bc3eb]">You're #<span id="waitlistNumber">42</span> on the
                        waitlist!</p>
                    <button id="joinAgainBtn"
                        class="mt-4 px-4 py-2  text-[#6bc3eb] font-semibold underline hover:text-[#20175e] transition-all">
                        Join with another email
                    </button>


                </div>

                <div class="mt-12 bg-[#CCF2F4] rounded-xl p-6 md:p-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">Why join early?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg text-center">
                            <div
                                class="w-12 h-12 bg-[#6bc3eb] rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-bolt text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">Early Access</h4>
                            <p class="text-sm text-gray-600">Get priority access before the public launch</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg text-center">
                            <div
                                class="w-12 h-12 bg-[#6bc3eb] rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-star text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">Verified Badge</h4>
                            <p class="text-sm text-gray-600">Receive a special badge on your profile</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg text-center">
                            <div
                                class="w-12 h-12 bg-[#6bc3eb] rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-gift text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">Exclusive Perks</h4>
                            <p class="text-sm text-gray-600">Priority invites to beta tests and webinars</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const submitButton = document.getElementById('submitButton');
        const joinAgainBtn = document.getElementById('joinAgainBtn');

        let submitted = false;


        document.getElementById('waitlistForm').addEventListener('submit', function () {
            submitted = true;
            submitButton.disabled = true;
            submitButton.classList.add('opacity-50', 'cursor-not-allowed');
        });

        // After form submission (on iframe load)
        document.getElementById('hidden_iframe').addEventListener('load', function () {
            if (submitted) {
                fetch('https://script.google.com/macros/s/AKfycbzBFqoCaaaJyMmb8THBPWoMZK164WiBi1UvUO2IbcWQEmskveRgA-PiD2vOal8OKcQI/exec')
                    .then(response => response.json())
                    .then(data => {
                        const waitlistPos = data.count;
                        document.getElementById('waitlistNumber').textContent = waitlistPos;
                        document.getElementById('waitlistForm').classList.add('hidden');
                        document.getElementById('successMessage').classList.remove('hidden');
                        localStorage.setItem('peerHireWaitlistJoined', 'true');
                        localStorage.setItem('peerHireWaitlistPosition', waitlistPos);
                        submitted = false;
                    })
                    .catch(error => {
                        console.error('Error fetching real waitlist count:', error);

                        // Optional fallback: use placeholder number
                        const fallbackPos = Math.floor(Math.random() * 500) + 1;
                        document.getElementById('waitlistNumber').textContent = fallbackPos;
                        document.getElementById('waitlistForm').classList.add('hidden');
                        document.getElementById('successMessage').classList.remove('hidden');
                        localStorage.setItem('peerHireWaitlistJoined', 'true');
                        localStorage.setItem('peerHireWaitlistPosition', fallbackPos);
                        submitted = false;
                    });
            }
        });

        // Rehydrate if already joined
        window.addEventListener('DOMContentLoaded', function () {
            if (localStorage.getItem('peerHireWaitlistJoined')) {
                const waitlistPos = localStorage.getItem('peerHireWaitlistPosition');
                document.getElementById('waitlistNumber').textContent = waitlistPos;
                document.getElementById('waitlistForm').classList.add('hidden');
                document.getElementById('successMessage').classList.remove('hidden');
            }
        });

        // Join again with another email
        document.getElementById('joinAgainBtn').addEventListener('click', function () {
            localStorage.removeItem('peerHireWaitlistJoined');
            localStorage.removeItem('peerHireWaitlistPosition');

            document.getElementById('successMessage').classList.add('hidden');
            document.getElementById('waitlistForm').classList.remove('hidden');
            document.getElementById('waitlistForm').reset();
        });


        joinAgainBtn.addEventListener('click', () => {
            document.getElementById('successMessage').classList.add('hidden');
            document.getElementById('waitlistForm').classList.remove('hidden');
            document.getElementById('waitlistForm').reset();
            submitButton.disabled = false;
            submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
        });
    </script>

    <script>
        // 🛡️ Basic Honeypot Anti-Bot Module
        (function () {
            const form = document.getElementById('waitlistForm');
            const honeypot = document.getElementById('website'); // Hidden field

            if (!form || !honeypot) return; // If fields don't exist, bail

            form.addEventListener('submit', function (e) {
                const isBot = honeypot.value.trim() !== '';
                if (isBot) {
                    e.preventDefault();
                    console.warn('🤖 Bot detected via honeypot.');
                    alert("Bot behavior detected. Submission blocked."); // Optional UI alert
                }
            });
        })();
    </script>

    <script>
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('emailError');

        emailInput.addEventListener('input', function () {
            const emailValue = emailInput.value.trim();
            const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailValue);

            if (emailValue === '') {
                emailError.textContent = 'Email is required.';
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500');
            } else if (!isValid) {
                emailError.textContent = 'Please enter a valid email address.';
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500');
            } else {
                emailError.classList.add('hidden');
                emailInput.classList.remove('border-red-500');
            }
        });
    </script>






</body>

</html>