<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Favicon for most browsers -->
    <link rel="icon" href="/favicon.png" type="image/png">

    <!-- Favicon for Safari/Apple -->
    <link rel="apple-touch-icon" href="/favicon.png">

    <title>Join the Waitlist | PeerHire</title>

    <script src="https://cdn.tailwindcss.com"></script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #F4F9F9;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #6bc3eb 0%, #20175e 100%);
        }

        .form-shadow {
            box-shadow: 0 20px 40px rgba(107, 195, 235, 0.15);
        }

        .success-message {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .floating {
            animation: floating 3s ease-in-out infinite;
        }

        @keyframes floating {
            0% {
                transform: translateY(0px);
            }

            50% {
                transform: translateY(-10px);
            }

            100% {
                transform: translateY(0px);
            }
        }

        .fa.fa-twitter {
            font-family: sans-serif;
        }

        .fa.fa-twitter::before {
            content: "ùïè";
            font-size: 1.2em;
        }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-4">
    <div class="max-w-4xl w-full mx-auto">
        <div class="bg-white rounded-2xl overflow-hidden form-shadow">
            <div class="gradient-bg text-white p-8 md:p-12 text-center">
                <div class="flex justify-center mb-6">
                    <div class="w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg floating">
                        <img src="/images/peerhire_logo.png" alt="PeerHire Logo" class="h-14 w-auto" />
                    </div>
                </div>
                <h1 class="text-3xl md:text-4xl font-bold mb-2">Join the PeerHire Waitlist</h1>
                <p class="text-base md:text-lg font-semibold mb-2 text-cyan-300">
                    Connecting the next generation of skilled freelancers.
                </p>
                <p class="text-lg opacity-90 max-w-2xl mx-auto mb-4">
                    Be among the first to access PeerHire before the official launch. Get exclusive updates, early
                    access, and perks when we go live.
                </p>
                <a href="https://peerhire.in" target="_blank"
                    class="text-cyan-400 underline hover:text-cyan-300 transition">
                    Explore PeerHire ‚Üí
                </a>
            </div>


            <div class="p-8 md:p-12">
                <form id="waitlistForm" class="space-y-6" method="POST"
                    action="https://script.google.com/macros/s/AKfycbzuqzeg0v_hwbbedL9N23iO1FOyiIC8j-lp1wC7UL4xQ-NlGYSvwCS9C6y39-FItiON/exec"
                    target="hidden_iframe" onsubmit="submitted=true;">
                    <input type="text" name="website" id="website" style="display:none;">
                    <input type="hidden" id="referrer" name="referrer" />
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="fullName" class="block text-sm font-medium text-gray-700 mb-1">Full Name <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="fullName" name="fullName" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-user text-gray-400"></i>
                                </div>
                            </div>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
                                Email Address <span class="text-red-500">*</span>
                            </label>
                            <div class="relative">
                                <input type="email" id="email" name="email" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all"
                                    placeholder="you@example.com" />
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-envelope text-gray-400"></i>
                                </div>
                            </div>
                            <p id="emailError" class="mt-2 text-sm text-red-500 hidden">Please enter a valid email
                                address.</p>
                        </div>

                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="college" class="block text-sm font-medium text-gray-700 mb-1">College Name <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="college" name="college" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all">
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-graduation-cap text-gray-400"></i>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label for="role" class="block text-sm font-medium text-gray-700 mb-1">Role <span
                                    class="text-red-500">*</span></label>
                            <div class="relative">
                                <select id="role" name="role" required
                                    class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all appearance-none">
                                    <option value="" disabled selected>Select your role</option>
                                    <option value="Student">Student</option>
                                    <option value="Recent Graduate">Recent Graduate</option>
                                    <option value="Early Professional">Early Professional</option>
                                    <option value="Startup">Startup</option>
                                    <option value="Recruiter">Recruiter</option>
                                </select>
                                <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                    <i class="fas fa-chevron-down text-gray-400"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label for="location" class="block text-sm font-medium text-gray-700 mb-1">City / Country <span
                                class="text-red-500">*</span></label>
                        <div class="relative">
                            <input type="text" id="location" name="location" required
                                class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all">
                            <div class="absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none">
                                <i class="fas fa-map-marker-alt text-gray-400"></i>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-700 mb-1">Anything you'd like to
                            tell us?</label>
                        <textarea id="message" name="message" rows="3"
                            class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-[#6bc3eb] focus:border-[#6bc3eb] transition-all"></textarea>
                    </div>

                    <div class="flex items-center">
                        <input id="terms" name="terms" type="checkbox" required
                            class="h-4 w-4 text-[#6bc3eb] focus:ring-[#6bc3eb] border-gray-300 rounded">
                        <label for="terms" class="ml-2 block text-sm text-gray-700">
                            I agree to receive updates and accept the <a
                                href="https://peerhire.notion.site/Terms-Conditions-for-Waitlist-Users-1ed50252541a80da803bd80425285b92"
                                class="text-[#6bc3eb] hover:underline">Terms & Conditions</a>
                        </label>
                    </div>

                    <div class="pt-2">
                        <button type="submit" id="submitButton"
                            class="w-full gradient-bg text-white font-bold py-4 px-6 rounded-lg hover:opacity-90 transition-all flex items-center justify-center space-x-2">
                            <span id="submitButtonText">Join the Waitlist</span>
                            <div id="submitLoader"
                                class="hidden animate-spin border-2 border-white border-t-transparent rounded-full w-5 h-5">
                            </div>
                        </button>

                    </div>
                </form>

                <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>


                <div id="successMessage" class="hidden success-message text-center mt-8 p-6 bg-green-50 rounded-lg">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                        <i class="fas fa-check text-green-600 text-2xl"></i>
                    </div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-2" id="successHeading">You're on the list! üéâ</h3>
                    <p class="text-gray-600 mb-4" id="successBody">We've added you to the PeerHire waitlist. Keep an eye
                        on your inbox for updates.</p>

                    <p class="text-lg font-semibold text-[#6bc3eb]" id="waitlistPositionText">
                        You're #<span id="waitlistNumber">42</span> on the waitlist!
                    </p>

                    <button id="joinAgainBtn"
                        class="mt-4 px-4 py-2  text-[#6bc3eb] font-semibold underline hover:text-[#20175e] transition-all">
                        Join with another email
                    </button>

                    <div class="mt-6 text-center">
                        <h4 class="text-lg font-semibold text-gray-800 mb-2">Boost your rank ‚Äì refer friends!</h4>
                        <p class="text-sm text-gray-600 mb-4">Share your unique link and climb the waitlist faster.</p>

                        <div class="flex items-center justify-center space-x-2 mb-4">
                            <input type="text" id="referralLink" readonly
                                class="w-full md:w-2/3 px-4 py-2 border border-gray-300 rounded-lg text-sm" value="" />
                            <button onclick="copyReferral()"
                                class="bg-[#6bc3eb] hover:bg-[#20175e] text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all">
                                Copy
                            </button>
                        </div>

                        <div class="flex justify-center gap-4">
                            <a href="#" target="_blank" id="shareTwitter"
                                class="text-[#1DA1F2] hover:underline text-sm font-semibold"><i
                                    class="fa fa-twitter mr-1"></i>Share on X</a>
                            <a href="#" target="_blank" id="shareLinkedIn"
                                class="text-[#0077B5] hover:underline text-sm font-semibold"><i
                                    class="fab fa-linkedin mr-1"></i>Share on LinkedIn</a>
                            <a href="#" target="_blank" id="shareWhatsApp"
                                class="text-[#25D366] hover:underline text-sm font-semibold"><i
                                    class="fab fa-whatsapp mr-1"></i>Share on WhatsApp</a>
                        </div>
                    </div>


                    <!-- üëë Leaderboard Section -->
                    <div class="mt-12 bg-white rounded-xl p-4 sm:p-6 md:p-8 shadow-md" id="leaderboard">
                        <h3 class="text-xl sm:text-2xl font-bold text-center text-gray-800 mb-2 sm:mb-4">üèÜ Referral
                            Leaderboard</h3>
                        <p class="text-xs sm:text-sm text-center text-gray-600 mb-4 sm:mb-6">
                            Top referrers get early access, verified badges & exclusive swag üéÅ
                        </p>

                        <!-- Loader -->
                        <div id="leaderboardLoader" class="text-center py-6 text-gray-500">
                            <div class="animate-spin inline-block w-6 h-6 border-4 border-current border-t-transparent text-blue-500 rounded-full"
                                role="status" aria-label="loading"></div>
                            <p class="mt-2 text-sm">Loading leaderboard...</p>
                        </div>

                        <!-- Table (hidden by default) -->
                        <div class="w-full overflow-x-auto rounded-lg" id="leaderboardTableWrapper"
                            style="display: none;">
                            <table class="min-w-[500px] w-full text-sm text-left text-gray-600">
                                <thead class="text-xs text-gray-500 uppercase bg-[#F4F9F9]">
                                    <tr>
                                        <th scope="col" class="px-4 sm:px-6 py-3">Rank</th>
                                        <th scope="col" class="px-4 sm:px-6 py-3">Name</th>
                                        <th scope="col" class="px-4 sm:px-6 py-3">College / Role</th>
                                        <th scope="col" class="px-4 sm:px-6 py-3">Referrals</th>
                                    </tr>
                                </thead>
                                <tbody id="leaderboardBody" class="bg-white divide-y divide-gray-200">
                                    <!-- Dynamic rows go here -->
                                </tbody>
                            </table>
                        </div>
                    </div>





                </div>

                <div class="mt-12 bg-[#CCF2F4] rounded-xl p-6 md:p-8">
                    <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">Why join early?</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-white p-4 rounded-lg text-center">
                            <div
                                class="w-12 h-12 bg-[#6bc3eb] rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-bolt text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">Early Access</h4>
                            <p class="text-sm text-gray-600">Get priority access before the public launch</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg text-center">
                            <div
                                class="w-12 h-12 bg-[#6bc3eb] rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-star text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">Verified Badge</h4>
                            <p class="text-sm text-gray-600">Receive a special badge on your profile</p>
                        </div>
                        <div class="bg-white p-4 rounded-lg text-center">
                            <div
                                class="w-12 h-12 bg-[#6bc3eb] rounded-full flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-gift text-white"></i>
                            </div>
                            <h4 class="font-semibold text-gray-800 mb-1">Exclusive Perks</h4>
                            <p class="text-sm text-gray-600">Priority invites to beta tests and webinars</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const LEADERBOARD_API_URL = "https://script.google.com/macros/s/AKfycbzuqzeg0v_hwbbedL9N23iO1FOyiIC8j-lp1wC7UL4xQ-NlGYSvwCS9C6y39-FItiON/exec?leaderboard=true";

        const leaderboardSection = document.getElementById('leaderboard');
        const leaderboardBody = document.getElementById('leaderboardBody');
        const loader = document.getElementById('leaderboardLoader');
        const tableWrapper = document.getElementById('leaderboardTableWrapper');

        loader.style.display = 'block';     // Show loader
        tableWrapper.style.display = 'none'; // Hide table initially
        leaderboardBody.innerHTML = '';     // Clear any rows

        fetch(LEADERBOARD_API_URL)
            .then(res => res.json())
            .then(data => {
                loader.style.display = 'none';      // Hide loader
                tableWrapper.style.display = 'block'; // Show table

                if (!Array.isArray(data) || data.length === 0) {
                    leaderboardBody.innerHTML = `<tr><td colspan="4" class="text-center py-4 text-gray-500">No data yet. Be the first to refer! üéØ</td></tr>`;
                    return;
                }

                data.forEach((user, index) => {
                    const rankIcon = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : `#${index + 1}`;
                    const row = `
                <tr>
                  <td class="px-4 sm:px-6 py-4 font-medium text-gray-900">${rankIcon}</td>
                  <td class="px-4 sm:px-6 py-4">${user.fullName}</td>
                  <td class="px-4 sm:px-6 py-4">${user.college || user.role}</td>
                  <td class="px-4 sm:px-6 py-4 font-bold text-green-600">${user.referralCount || 0}</td>
                </tr>
              `;
                    leaderboardBody.insertAdjacentHTML('beforeend', row);
                });
            })
            .catch(err => {
                console.error("Error loading leaderboard:", err);
                loader.innerHTML = `<p class="text-red-500 text-sm">Failed to load leaderboard. Please try again later.</p>`;
            });
    </script>

    <script>
        const submitButton = document.getElementById('submitButton');
        const submitText = document.getElementById('submitButtonText');
        const submitLoader = document.getElementById('submitLoader');
        const joinAgainBtn = document.getElementById('joinAgainBtn');
        let submitted = false;

        window.addEventListener('DOMContentLoaded', () => {
            const urlParams = new URLSearchParams(window.location.search);
            const refCode = urlParams.get('ref');
            if (refCode) {
                document.getElementById('referrer').value = refCode;
            }
        });

        document.getElementById('waitlistForm').addEventListener('submit', function () {
            submitted = true;

            // Show spinner
            submitText.classList.add('hidden');
            submitLoader.classList.remove('hidden');
        });

        document.getElementById('hidden_iframe').addEventListener('load', function () {
            if (submitted) {
                const email = document.getElementById('email').value;

                fetch(`https://script.google.com/macros/s/AKfycbzuqzeg0v_hwbbedL9N23iO1FOyiIC8j-lp1wC7UL4xQ-NlGYSvwCS9C6y39-FItiON/exec?email=${encodeURIComponent(email)}`)
                    .then(response => response.json())
                    .then(data => {
                        const isExisting = data.status === 'exists' || data.refCode;

                        const referralLink = data.referralLink || `https://peerhire.in/join-waitlist?ref=${data.refCode}`;
                        const waitlistPos = Math.floor(Math.random() * 500) + 1;

                        updateReferralLink(referralLink);
                        document.getElementById('waitlistNumber').textContent = waitlistPos;
                        document.getElementById('waitlistForm').classList.add('hidden');
                        document.getElementById('successMessage').classList.remove('hidden');

                        if (isExisting) {
                            document.querySelector('#successMessage h3').textContent = 'Already signed up üôå';
                            document.querySelector('#successMessage p').textContent = 'You‚Äôre already on the waitlist. Share your referral link to move up!';
                            document.getElementById('waitlistPositionText').classList.add('hidden');
                        }

                        // Reset submit UI
                        submitted = false;
                        submitText.classList.remove('hidden');
                        submitLoader.classList.add('hidden');
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        const fallbackPos = Math.floor(Math.random() * 500) + 1;
                        document.getElementById('waitlistNumber').textContent = fallbackPos;
                        document.getElementById('waitlistForm').classList.add('hidden');
                        document.getElementById('successMessage').classList.remove('hidden');

                        // Reset submit UI
                        submitted = false;
                        submitText.classList.remove('hidden');
                        submitLoader.classList.add('hidden');
                    });
            }
        });

        joinAgainBtn.addEventListener('click', () => {
            document.getElementById('successMessage').classList.add('hidden');
            document.getElementById('waitlistForm').classList.remove('hidden');
            document.getElementById('waitlistForm').reset();

            submitText.classList.remove('hidden');
            submitLoader.classList.add('hidden');
        });

        function updateReferralLink(referralURL) {
            document.getElementById("referralLink").value = referralURL;
            document.getElementById("shareTwitter").href = `https://twitter.com/intent/tweet?text=Just%20joined%20@Peer_Hire%20early%20waitlist!%20Join%20using%20my%20link%20and%20get%20ahead:%20${encodeURIComponent(referralURL)}`;
            document.getElementById("shareLinkedIn").href = `https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(referralURL)}`;
            document.getElementById("shareWhatsApp").href = `https://api.whatsapp.com/send?text=Hey!%20Check%20out%20PeerHire%20for%20freelance%20gigs%20and%20opportunities.%20Use%20my%20link%20to%20sign%20up:%20${encodeURIComponent(referralURL)}`;
        }

        function copyReferral() {
            const link = document.getElementById("referralLink");
            link.select();
            link.setSelectionRange(0, 99999);
            document.execCommand("copy");
        }
    </script>

    <script>
        // üõ°Ô∏è Basic Honeypot Anti-Bot Module
        (function () {
            const form = document.getElementById('waitlistForm');
            const honeypot = document.getElementById('website'); // Hidden field

            if (!form || !honeypot) return; // If fields don't exist, bail

            form.addEventListener('submit', function (e) {
                const isBot = honeypot.value.trim() !== '';
                if (isBot) {
                    e.preventDefault();
                    console.warn('ü§ñ Bot detected via honeypot.');
                    alert("Bot behavior detected. Submission blocked."); // Optional UI alert
                }
            });
        })();
    </script>

    <script>
        const emailInput = document.getElementById('email');
        const emailError = document.getElementById('emailError');

        emailInput.addEventListener('input', function () {
            const emailValue = emailInput.value.trim();
            const isValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(emailValue);

            if (emailValue === '') {
                emailError.textContent = 'Email is required.';
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500');
            } else if (!isValid) {
                emailError.textContent = 'Please enter a valid email address.';
                emailError.classList.remove('hidden');
                emailInput.classList.add('border-red-500');
            } else {
                emailError.classList.add('hidden');
                emailInput.classList.remove('border-red-500');
            }
        });
    </script>

    <script>
        window.addEventListener('DOMContentLoaded', function () {
            // Helper to get URL query parameters
            function getQueryParam(name) {
                const urlParams = new URLSearchParams(window.location.search);
                return urlParams.get(name);
            }

            const referrerInput = document.getElementById('referrer');
            const referrer = getQueryParam('ref');

            // If there's a ref param, set it in the form input (but don't store)
            if (referrer && referrerInput) {
                referrerInput.value = referrer;
            }

            // Rehydration logic removed since we're no longer storing anything
            // So we won't auto-show the success message anymore on reload

            // Allow rejoining with a different email
            const joinAgainBtn = document.getElementById('joinAgainBtn');
            const submitButton = document.getElementById('submitButton');

            if (joinAgainBtn) {
                joinAgainBtn.addEventListener('click', () => {
                    const formEl = document.getElementById('waitlistForm');
                    const successMsgEl = document.getElementById('successMessage');

                    if (formEl) formEl.reset();
                    if (formEl) formEl.classList.remove('hidden');
                    if (successMsgEl) successMsgEl.classList.add('hidden');

                    if (submitButton) {
                        submitButton.disabled = false;
                        submitButton.classList.remove('opacity-50', 'cursor-not-allowed');
                    }
                });
            }
        });
    </script>



</body>

</html>